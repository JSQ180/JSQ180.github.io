<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>JSQã®Blog</title>
  
  <subtitle>å°è¯•è®°å½•çç¢çš„æ—¥å¸¸</subtitle>
  <link href="https://jsq180.github.io/atom.xml" rel="self"/>
  
  <link href="https://jsq180.github.io/"/>
  <updated>2022-09-01T22:41:10.000Z</updated>
  <id>https://jsq180.github.io/</id>
  
  <author>
    <name>JSQ</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>03.ReactåŸºç¡€ç¯‡-æ•°æ®çš„æŒ‚è½½å’Œæ¸²æŸ“</title>
    <link href="https://jsq180.github.io/posts/78e1829e.html"/>
    <id>https://jsq180.github.io/posts/78e1829e.html</id>
    <published>2022-09-01T21:00:02.000Z</published>
    <updated>2022-09-01T22:41:10.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="React-åŸºç¡€ç¯‡"><a href="#React-åŸºç¡€ç¯‡" class="headerlink" title="React åŸºç¡€ç¯‡"></a>React åŸºç¡€ç¯‡</h1><h2 id="ä¸€ã€ç»„ä»¶çš„æ•°æ®æŒ‚è½½æ–¹å¼"><a href="#ä¸€ã€ç»„ä»¶çš„æ•°æ®æŒ‚è½½æ–¹å¼" class="headerlink" title="ä¸€ã€ç»„ä»¶çš„æ•°æ®æŒ‚è½½æ–¹å¼"></a>ä¸€ã€ç»„ä»¶çš„æ•°æ®æŒ‚è½½æ–¹å¼</h2><h3 id="1-çŠ¶æ€ï¼ˆstateï¼‰"><a href="#1-çŠ¶æ€ï¼ˆstateï¼‰" class="headerlink" title="1.çŠ¶æ€ï¼ˆstateï¼‰"></a>1.çŠ¶æ€ï¼ˆstateï¼‰</h3><p>çŠ¶æ€å°±æ˜¯ç»„ä»¶æè¿°æŸç§æ˜¾ç¤ºæƒ…å†µçš„æ•°æ®ï¼Œç”±ç»„ä»¶è‡ªå·±è®¾ç½®å’Œæ›´æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±ç»„ä»¶è‡ªå·±ç»´æŠ¤ï¼Œä½¿ç”¨çŠ¶æ€çš„ç›®çš„å°±æ˜¯ä¸ºäº†åœ¨ä¸åŒçš„çŠ¶æ€ä¸‹ä½¿ç»„ä»¶çš„æ˜¾ç¤ºä¸åŒ(è‡ªå·±ç®¡ç†)ã€‚</p><ul><li>å†™æ³•ä¸€</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;React&quot;</span>,<br>    <span class="hljs-attr">isLiked</span>: <span class="hljs-literal">false</span>,<br>  &#125;;<br>  changName = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Vue&quot;</span>,<br>    &#125;);<br>    <span class="hljs-comment">// this.state.name = &quot;Vue&quot;</span><br>  &#125;;<br>  <span class="hljs-comment">/*</span><br><span class="hljs-comment">  isLiked å­˜æ”¾åœ¨å®ä¾‹çš„ state å¯¹è±¡å½“ä¸­ï¼Œç»„ä»¶çš„ render å‡½æ•°å†…ï¼Œä¼šæ ¹æ®ç»„ä»¶çš„ state çš„ä¸­çš„</span><br><span class="hljs-comment">  isLiked ä¸åŒæ˜¾ç¤ºâ€œå–æ¶ˆâ€æˆ–â€œæ”¶è—â€å†…å®¹ã€‚ä¸‹é¢ç»™ button åŠ ä¸Šäº†ç‚¹å‡»çš„äº‹ä»¶ç›‘å¬</span><br><span class="hljs-comment">  */</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿æ¥åˆ° &#123;this.state.name&#125; çš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changName&#125;</span>&gt;</span> ç‚¹å‡» <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šåœ¨ React ä¸­ä¿®æ”¹çŠ¶æ€ï¼Œä¸èƒ½ç›´æ¥ this.state.isLiked ä¿®æ”¹ï¼ŒåŸå› å¦‚ä¸‹</strong><br>this.state æ˜¯çº¯ js å¯¹è±¡,åœ¨ vue ä¸­ï¼Œdata å±æ€§æ˜¯åˆ©ç”¨ Object.defineProperty å¤„ç†è¿‡çš„ï¼Œæ›´æ”¹ data çš„æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘æ•°æ®çš„ getter å’Œ setter ï¼Œä½†æ˜¯ React ä¸­æ²¡æœ‰åšè¿™æ ·çš„å¤„ç†ã€‚<br>å¦‚æœç›´æ¥æ›´æ”¹çš„è¯ï¼Œreact æ˜¯æ— æ³•å¾—çŸ¥çš„ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„æ›´æ”¹çŠ¶æ€çš„æ–¹æ³• <strong>setState</strong> ã€‚</p><ul><li>å†™æ³•äºŒ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;React&quot;</span>,<br>      <span class="hljs-attr">isLiked</span>: <span class="hljs-literal">false</span>,<br>    &#125;;<br>  &#125;<br><br>  changName = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// å°† name å±æ€§ä» React è®¾ç½®ä¸º Vue</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Vue&quot;</span>,<br>    &#125;);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿æ¥åˆ° &#123;this.state.name&#125; çš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changName&#125;</span>&gt;</span>ç‚¹å‡» <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨ constructor æ„é€ å™¨ç»§æ‰¿ Component ç»„ä»¶çš„å±æ€§ï¼Œåˆ™å¿…é¡»åœ¨å†…éƒ¨æ·»åŠ  super()</p><ul><li>constructor ç®€å•ä»‹ç»ï¼š</li></ul><ul><li>constructor æ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ new å‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚</li><li>ä¸€ä¸ªç±»å¿…é¡»æœ‰ constructor æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„ constructor æ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å®šä¹‰äº†ä¸€ä¸ªç©ºçš„ç±»Pointï¼Œ</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> &#123;<br>  <span class="hljs-comment">// JavaScriptå¼•æ“ä¼šè‡ªåŠ¨ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªç©ºçš„constructoræ–¹æ³•</span><br>&#125;<br><br><span class="hljs-comment">// ç­‰åŒäº</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…³äº constructor è¯¦ç»†å†…å®¹ï¼Œåç»­è¡¥å……ã€‚</p><h3 id="2-æ¸²æŸ“æ•°æ®"><a href="#2-æ¸²æŸ“æ•°æ®" class="headerlink" title="2.æ¸²æŸ“æ•°æ®"></a>2.æ¸²æŸ“æ•°æ®</h3><h4 id="1-æ¡ä»¶æ¸²æŸ“"><a href="#1-æ¡ä»¶æ¸²æŸ“" class="headerlink" title="1.æ¡ä»¶æ¸²æŸ“"></a>1.æ¡ä»¶æ¸²æŸ“</h4><p>ä¸€èˆ¬ä¼šé€šè¿‡ä¸‰ç›®è¿ç®—çš„æ–¹å¼ï¼Œå¯¹ä¸åŒçŠ¶æ€çš„æ•°æ®è¿›è¡Œä¸åŒå†…å®¹çš„æ¸²æŸ“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;React&quot;</span>,<br>    <span class="hljs-attr">isLiked</span>: <span class="hljs-literal">false</span>,<br>  &#125;;<br>  changeLike = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">isLiked</span>: !<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isLiked</span>,<br>    &#125;);<br>    <span class="hljs-comment">// this.state.isLiked = !this.state.isLiked</span><br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿æ¥åˆ° &#123;this.state.name&#125; çš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>/</span><br><span class="language-xml">        &#123;/* å½“ isLiked çš„çŠ¶æ€ä¸º true ï¼Œæ¸²æŸ“ &quot;â¤æ”¶è—&quot; ï¼Œå¦åˆ™æ¸²æŸ“  &quot;ğŸ–¤å–æ¶ˆ&quot; */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changeLike&#125;</span>&gt;</span></span><br><span class="language-xml">          &#123;this.state.isLiked ? &quot;ğŸ–¤å–æ¶ˆ&quot; : &quot;â¤æ”¶è—&quot;&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-åˆ—è¡¨æ¸²æŸ“"><a href="#2-åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="2.åˆ—è¡¨æ¸²æŸ“"></a>2.åˆ—è¡¨æ¸²æŸ“</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">people</span>: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;è·¯æ˜é&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç»˜æ¢¨è¡£&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æ¥šå­èˆª&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,<br>    ],<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        &#123;this.state.people.map((item) =&gt; (</span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;item.id&#125;</span>&gt;</span></span><br><span class="language-xml">            &#123;item.name&#125; - &#123;item.age&#125;</span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        ))&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// å†…éƒ¨æ¸²æŸ“è¿˜å¯ä»¥è¿™æ ·å†™ï¼šåŸå› æ˜¯ return çš„åªèƒ½æ˜¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå³ä¸€ä¸ªç»“æœï¼Œæ‰€ä»¥ return å’Œ &#123;&#125; å¯ä»¥çœç•¥ä¸å†™</span><br><span class="hljs-comment">/* this.state.people.map((item) =&gt; &#123;</span><br><span class="hljs-comment">  return (</span><br><span class="hljs-comment">    &lt;ul key=&#123;item.id&#125;&gt;</span><br><span class="hljs-comment">      &#123;item.name&#125; - &#123;item.age&#125;</span><br><span class="hljs-comment">    &lt;/ul&gt;</span><br><span class="hljs-comment">  );</span><br><span class="hljs-comment">&#125;); */</span><br></code></pre></td></tr></table></figure><p><img src="https://s1.xptou.com/2022/09/01/6310852e0ef87.png" alt="åˆ—è¡¨æ¸²æŸ“ç»“æœ"></p><h4 id="3-å¾ªç¯æ¸²æŸ“çš„å”¯ä¸€å€¼-key"><a href="#3-å¾ªç¯æ¸²æŸ“çš„å”¯ä¸€å€¼-key" class="headerlink" title="3.å¾ªç¯æ¸²æŸ“çš„å”¯ä¸€å€¼ key"></a>3.å¾ªç¯æ¸²æŸ“çš„å”¯ä¸€å€¼ key</h4><p>åœ¨è¿›è¡Œå¾ªç¯æ¸²æŸ“æ—¶ï¼Œreact å‘Šè¯‰æˆ‘ä»¬ï¼Œæ¯ä¸€æ¡æ•°æ®éƒ½éœ€è¦æœ‰ä¸€ä¸ª key å€¼ï¼Œä¸” key çš„å€¼æ˜¯å”¯ä¸€ï¼Œä¸èƒ½é‡å¤çš„ã€‚<br>è¿™æ¶‰åŠåˆ° Reactï¼ˆVueï¼‰çš„æ¸²æŸ“æ–¹å¼ï¼šè™šæ‹Ÿ DOMï¼Œå…¶æ ¸å¿ƒä¹Ÿå°±æ˜¯ Diff ç®—æ³•ã€‚</p><p>Reactçš„é«˜æ•ˆä¾èµ–äºæ‰€è°“çš„ Virtual-DOMï¼Œå°½é‡ä¸ç¢° DOMã€‚å¯¹äºåˆ—è¡¨å…ƒç´ æ¥è¯´ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå…ƒç´ å¯èƒ½ä¼šåœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æ”¹å˜ä½ç½®ã€‚è¦å®ç°è¿™ä¸ªæ“ä½œï¼Œåªéœ€è¦äº¤æ¢ä¸€ä¸‹ DOM ä½ç½®å°±è¡Œäº†ï¼Œä½†æ˜¯Reactå¹¶ä¸çŸ¥é“å…¶å®æˆ‘ä»¬åªæ˜¯æ”¹å˜äº†å…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥å®ƒä¼šé‡æ–°æ¸²æŸ“åé¢ä¸¤ä¸ªå…ƒç´ ï¼ˆå†æ‰§è¡Œ Virtual-DOM ï¼‰ï¼Œè¿™æ ·ä¼šå¤§å¤§å¢åŠ  DOM æ“ä½œã€‚ä½†å¦‚æœç»™æ¯ä¸ªå…ƒç´ åŠ ä¸Šå”¯ä¸€çš„æ ‡è¯†ï¼ŒReact å°±å¯ä»¥çŸ¥é“è¿™ä¸¤ä¸ªå…ƒç´ åªæ˜¯äº¤æ¢äº†ä½ç½®ï¼Œè¿™ä¸ªæ ‡è¯†å°±æ˜¯ key ï¼Œè¿™ä¸ª key å¿…é¡»æ˜¯æ¯ä¸ªå…ƒç´ å”¯ä¸€çš„æ ‡è¯†</p><p><img src="https://s1.xptou.com/2022/09/01/6310c0c0d4e24.png" alt="DOMæ›´æ–°åŸç†"><br>ä¸ºäº†åˆ—è¡¨çš„å¤ç”¨å’Œé‡æ’ï¼Œè®¾ç½® key å€¼ï¼Œæé«˜æ€§èƒ½ã€‚<br>åœ¨è¿›è¡Œåˆ—è¡¨æ¸²æŸ“æ—¶ï¼Œå°½é‡ä½¿ç”¨æ•°æ®çš„IDä½œä¸ºkeyï¼Œå› ä¸ºåç«¯è¿”å›çš„IDæ—¶å”¯ä¸€çš„ã€‚<br>åœ¨åˆ—è¡¨ä»…ä»…æ˜¯æ•°æ®å±•ç¤ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ index ç´¢å¼•ä½œä¸º keyï¼Œå› ä¸ºä¸ä¼šå¯¹ DOM è¿›è¡Œæ•°æ®æ›´æ”¹ã€‚<br>å¦‚æœæ¶‰åŠåˆ°åˆ—è¡¨æ•°æ®çš„åŠ¨æ€<strong>æ·»åŠ ã€åˆ é™¤</strong>ç­‰ï¼Œå°±å°½é‡ä¿è¯ key å€¼å¾—å”¯ä¸€æ€§ï¼Œä¸ç„¶å¾ˆå¯èƒ½ä¼šå‡ºç°é—®é¢˜</p>]]></content>
    
    
    <summary type="html">Reactæ•°æ®åŠ è½½å’Œæ¸²æŸ“</summary>
    
    
    
    
    <category term="ReactåŸºç¡€" scheme="https://jsq180.github.io/tags/React%E5%9F%BA%E7%A1%80/"/>
    
    <category term="å‰ç«¯" scheme="https://jsq180.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>ReactåŸºç¡€ç¯‡-äº†è§£Reactçš„åŸºç¡€è¯­æ³•</title>
    <link href="https://jsq180.github.io/posts/46f4fab.html"/>
    <id>https://jsq180.github.io/posts/46f4fab.html</id>
    <published>2022-08-28T20:48:49.000Z</published>
    <updated>2022-08-31T22:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="React-åŸºç¡€ç¯‡"><a href="#React-åŸºç¡€ç¯‡" class="headerlink" title="React åŸºç¡€ç¯‡"></a>React åŸºç¡€ç¯‡</h1><h2 id="ä¸€ã€è®¤è¯†-React-ç»„ä»¶"><a href="#ä¸€ã€è®¤è¯†-React-ç»„ä»¶" class="headerlink" title="ä¸€ã€è®¤è¯† React ç»„ä»¶"></a>ä¸€ã€è®¤è¯† React ç»„ä»¶</h2><h3 id="1-Class-ç»„ä»¶"><a href="#1-Class-ç»„ä»¶" class="headerlink" title="1.Class ç»„ä»¶"></a>1.Class ç»„ä»¶</h3><p>ES6 çš„åŠ å…¥è®© JavaScript ç›´æ¥æ”¯æŒä½¿ç”¨ class æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œreact åˆ›å»ºç»„ä»¶çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨çš„ç±»çš„ç»§æ‰¿ï¼ŒES6 class æ˜¯ç›®å‰å®˜æ–¹æ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä½¿ç”¨äº† ES6 æ ‡å‡†è¯­æ³•æ¥æ„å»ºï¼Œçœ‹ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<br>  &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>));<br></code></pre></td></tr></table></figure><ul><li>ES6 class ç»„ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªæ„é€ å™¨,æ¯æ¬¡ä½¿ç”¨ç»„ä»¶éƒ½ç›¸å½“äºåœ¨å®ä¾‹åŒ–ç»„ä»¶ï¼Œåƒè¿™æ ·ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿è¿›å…¥&#123;this.props.name&#125;çš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">App</span>(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;react&quot;</span>,<br>&#125;).<span class="hljs-title function_">render</span>();<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(app, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>));<br></code></pre></td></tr></table></figure><h3 id="2-å‡½æ•°å¼ç»„ä»¶"><a href="#2-å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="2.å‡½æ•°å¼ç»„ä»¶"></a>2.å‡½æ•°å¼ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom&#x27;</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params">props</span>) =&gt; <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span> <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>( <span class="hljs-comment">// Reactç»„ä»¶çš„è°ƒç”¨æ–¹å¼</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>,<br> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>) )<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong> ä¸è®ºæ˜¯ class ç»„ä»¶è¿˜æ˜¯å‡½æ•°å¼ç»„ä»¶ï¼Œç»„ä»¶åå¿…é¡»å¤§å†™ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><h3 id="3-ç»„ä»¶çš„æ ·å¼"><a href="#3-ç»„ä»¶çš„æ ·å¼" class="headerlink" title="3.ç»„ä»¶çš„æ ·å¼"></a>3.ç»„ä»¶çš„æ ·å¼</h3><ul><li>è¡Œå†…æ ·å¼<br>æƒ³ç»™è™šæ‹Ÿ dom æ·»åŠ è¡Œå†…æ ·å¼ï¼Œéœ€è¦ä½¿ç”¨è¡¨è¾¾å¼ä¼ å…¥æ ·å¼å¯¹è±¡çš„æ–¹å¼æ¥å®ç°ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ³¨æ„è¿™é‡Œçš„ä¸¤ä¸ªæ‹¬å·ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºæˆ‘ä»¬åœ¨è¦JSXé‡Œæ’å…¥JSäº†ï¼ŒJSä¼šæŠŠå®ƒå½“åšä¸€ä¸ªé€»è¾‘è¿›è¡Œå¤„ç†ï¼Œç¬¬äºŒä¸ªæ˜¯æ ·å¼å¯¹è±¡çš„æ‹¬å·</span><br>&lt;p style=&#123;&#123; <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&quot;14px&quot;</span> &#125;&#125;&gt;<span class="hljs-title class_">Hello</span> world&lt;/p&gt;<br></code></pre></td></tr></table></figure><p>è¡Œå†…æ ·å¼éœ€è¦å†™å…¥ä¸€ä¸ªæ ·å¼å¯¹è±¡ï¼Œè€Œè¿™ä¸ªæ ·å¼å¯¹è±¡çš„ä½ç½®å¯ä»¥æ”¾åœ¨å¾ˆå¤šåœ°æ–¹ï¼Œä¾‹å¦‚ render å‡½æ•°é‡Œã€ç»„ä»¶åŸå‹ä¸Šã€å¤–é“¾ js æ–‡ä»¶ä¸­ã€‚</p><ul><li>ä½¿ç”¨ class<br>React æ¨èæˆ‘ä»¬ä½¿ç”¨è¡Œå†…æ ·å¼ï¼Œå› ä¸º React è§‰å¾—æ¯ä¸€ä¸ªç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•´ä½“ã€‚<br>å…¶å®æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹è¿˜æ˜¯å¤§é‡çš„åœ¨ä¸ºå…ƒç´ æ·»åŠ ç±»åï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ <strong>class</strong> éœ€è¦å†™æˆ <strong>className</strong> ï¼ˆå› ä¸ºæ¯•ç«Ÿæ˜¯åœ¨å†™ç±» js ä»£ç ï¼Œä¼šå—åˆ° js è§„åˆ™çš„é™åˆ¶ï¼Œè€Œ class æ˜¯å…³é”®å­—ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;p className=<span class="hljs-string">&quot;hello&quot;</span>&gt;<span class="hljs-title class_">Hello</span> world&lt;/p&gt;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> ==&gt; className , <span class="hljs-keyword">for</span> ==&gt; <span class="hljs-title function_">htmlFor</span>(label)<br><span class="hljs-comment">/* htmlFor å³ä¸º label çš„ for å±æ€§ */</span><br></code></pre></td></tr></table></figure><h3 id="4-ç»„ä»¶åµŒå¥—"><a href="#4-ç»„ä»¶åµŒå¥—" class="headerlink" title="4.ç»„ä»¶åµŒå¥—"></a>4.ç»„ä»¶åµŒå¥—</h3><h4 id="1-åŸºç¡€ç»„ä»¶åµŒå¥—"><a href="#1-åŸºç¡€ç»„ä»¶åµŒå¥—" class="headerlink" title="1.åŸºç¡€ç»„ä»¶åµŒå¥—"></a>1.åŸºç¡€ç»„ä»¶åµŒå¥—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NavBar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>NavBar ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Swiper</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Swiper ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">TabBar</span> = (<span class="hljs-params"></span>) =&gt; <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>TabBar ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> &quot;#<span class="hljs-attr">e6e6e6</span>&quot; &#125;&#125;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NavBar</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Swiper</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TabBar</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://s1.xptou.com/2022/08/31/630f1f600faea.png" alt="åŸºç¡€ç»„ä»¶åµŒå¥—"></p><h4 id="2-å¤šå±‚ç»„ä»¶åµŒå¥—"><a href="#2-å¤šå±‚ç»„ä»¶åµŒå¥—" class="headerlink" title="2.å¤šå±‚ç»„ä»¶åµŒå¥—"></a>2.å¤šå±‚ç»„ä»¶åµŒå¥—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NavBar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> &quot;<span class="hljs-attr">red</span>&quot; &#125;&#125;&gt;</span></span><br><span class="language-xml">        NavBar ç»„ä»¶</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Child</span> = (<span class="hljs-params"></span>) =&gt; <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>NavBar ä¸‹çš„ Child ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Swiper</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Swiper ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">TabBar</span> = (<span class="hljs-params"></span>) =&gt; <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>TabBar ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> &quot;#<span class="hljs-attr">e6e6e6</span>&quot; &#125;&#125;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NavBar</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Swiper</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TabBar</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://s1.xptou.com/2022/08/31/630f200ab8171.png" alt="å¤šå±‚ç»„ä»¶åµŒå¥—"></p><h2 id="äºŒã€Reactäº‹ä»¶"><a href="#äºŒã€Reactäº‹ä»¶" class="headerlink" title="äºŒã€Reactäº‹ä»¶"></a>äºŒã€Reactäº‹ä»¶</h2><h3 id="1-äº‹ä»¶ç»‘å®šå†™æ³•"><a href="#1-äº‹ä»¶ç»‘å®šå†™æ³•" class="headerlink" title="1.äº‹ä»¶ç»‘å®šå†™æ³•"></a>1.äº‹ä»¶ç»‘å®šå†™æ³•</h3><p>é‡‡ç”¨ on+äº‹ä»¶åçš„æ–¹å¼æ¥ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œæ³¨æ„ï¼Œè¿™é‡Œå’ŒåŸç”Ÿçš„äº‹ä»¶æ˜¯æœ‰åŒºåˆ«çš„ï¼ŒåŸç”Ÿçš„äº‹ä»¶å…¨æ˜¯å°å†™ onclick , React é‡Œçš„äº‹ä»¶æ˜¯é©¼å³° onClick ï¼Œ<strong>React çš„äº‹ä»¶å¹¶ä¸æ˜¯åŸç”Ÿäº‹ä»¶ï¼Œè€Œæ˜¯åˆæˆäº‹ä»¶ã€‚</strong></p><h3 id="2-äº‹ä»¶-handler-çš„å†™æ³•"><a href="#2-äº‹ä»¶-handler-çš„å†™æ³•" class="headerlink" title="2.äº‹ä»¶ handler çš„å†™æ³•"></a>2.äº‹ä»¶ handler çš„å†™æ³•</h3><ul><li>ç›´æ¥åœ¨ render é‡Œå†™è¡Œå†…çš„ç®­å¤´å‡½æ•°(ä¸æ¨è)</li><li>åœ¨ç»„ä»¶å†…ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ä¸€ä¸ªæ–¹æ³•(æ¨è)</li><li>ç›´æ¥åœ¨ç»„ä»¶å†…å®šä¹‰ä¸€ä¸ªéç®­å¤´å‡½æ•°çš„æ–¹æ³•ï¼Œç„¶ååœ¨ render é‡Œç›´æ¥ä½¿ç”¨ onClick={this.handleClick.bind(this)} (ä¸æ¨è)</li><li>ç›´æ¥åœ¨ç»„ä»¶å†…å®šä¹‰ä¸€ä¸ªéç®­å¤´å‡½æ•°çš„æ–¹æ³•ï¼Œç„¶ååœ¨ constructor é‡Œ bind(this)(æ¨è)<br><strong>ä¸ªäººæœ€æ¨èçš„å†™æ³•ä¸º handleClick2 çš„æ–¹å¼ï¼Œè¡Œå†…å†™æ–¹æ³•ï¼Œç»„ä»¶å†…å°†æ–¹æ³•å†™æˆç®­å¤´å‡½æ•°çš„å†™æ³•ã€‚è‹¥è¦ä¼ å‚ï¼Œåˆ™é‡‡ç”¨ handleClick5 çš„å†™æ³•</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">/*  handleClick() &#123;</span><br><span class="hljs-comment">           console.log(this, &quot;click1&quot;);</span><br><span class="hljs-comment">       &#125; */</span><br>  handleClick2 = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&quot;click2&quot;</span>);<br>  &#125;;<br>  <span class="hljs-title function_">handleClick3</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&quot;click3&quot;</span>);<br>  &#125;<br>  <span class="hljs-title function_">handleClick4</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&quot;click4&quot;</span>);<br>  &#125;<br>  <span class="hljs-title function_">handleClick5</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&quot;click5&quot;</span>);<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> /&gt;</span></span><br><span class="language-xml">        &#123;/* å¦‚æœä¸åŠ å°æ‹¬å·ç®­å¤´å‡½æ•°ï¼Œç›¸å½“äºè‡ªæ‰§è¡Œ */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="language-xml">            console.log(&quot;clickï¼Œä»…é™é€»è¾‘æå°‘çš„æƒ…å†µ&quot;);</span><br><span class="language-xml">          &#125;&#125;</span><br><span class="language-xml">        &gt;</span><br><span class="language-xml">          add1ï¼ˆè¡Œå†…ç®­å¤´å‡½æ•°ï¼‰</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        &#123;/* handleClick ä¸åŠ å°æ‹¬å·ï¼Œè¢«åŠ¨æ‰§è¡Œï¼Œç‚¹å‡»ä¹‹åè§¦å‘ã€‚è‹¥åŠ ï¼Œåˆ™ç›´æ¥æ‰§è¡Œ */&#125;</span><br><span class="language-xml">        &#123;/* è‹¥è¦ä¼ å‚ï¼Œä¸”ä¸è®©ä»–æ‰§è¡Œ åˆ™ onClick=&#123;()=&gt;&#123;this.handleClick(&quot;value&quot;)&#125;&#125; */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClick2&#125;</span>&gt;</span>add2ï¼ˆå‡½æ•°ç®­å¤´å‡½æ•°ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClick3.bind(this)&#125;</span>&gt;</span></span><br><span class="language-xml">          add3ï¼ˆè¡Œå†…éç®­å¤´å‡½æ•°ç»‘å®šthisï¼‰</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        &#123;/* å¦‚æœä¸ç»‘å®šthis ,this ä¸º undefined */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClick4&#125;</span>&gt;</span></span><br><span class="language-xml">          add4ï¼ˆå†…éç®­å¤´å‡½æ•°ä¸ç»‘å®šthisï¼‰</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="language-xml">            this.handleClick5();</span><br><span class="language-xml">          &#125;&#125;</span><br><span class="language-xml">        &gt;</span><br><span class="language-xml">          add5ï¼ˆè¡Œå†…ç®­å¤´å‡½æ•°æ–¹æ³•ï¼‰</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://s1.xptou.com/2022/08/31/630f24cdcc47f.png" alt="äº‹ä»¶ç»‘å®šæ–¹å¼"></p><h3 id="3-React-äº‹ä»¶ç»‘å®šåŸç†"><a href="#3-React-äº‹ä»¶ç»‘å®šåŸç†" class="headerlink" title="3.React äº‹ä»¶ç»‘å®šåŸç†"></a>3.React äº‹ä»¶ç»‘å®šåŸç†</h3><p>react çš„äº‹ä»¶ç»‘å®šå¹¶éåƒåŸç”Ÿäº‹ä»¶ä¸€æ ·ï¼Œç»‘å®šåœ¨å…·ä½“çš„ DOM èŠ‚ç‚¹ä¸Šï¼Œè¿™æ ·æ˜¯éå¸¸æ¶ˆè€—å†…å­˜çš„ã€‚è€Œæ˜¯é‡‡ç”¨äº†<strong>äº‹ä»¶ä»£ç†</strong>çš„æ–¹æ¡ˆï¼š<br>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><ul><li>åœ¨æœªç§»é™¤ button çš„ click äº‹ä»¶æ—¶ï¼ŒæŒ‰é’®ç‚¹å‡»æ­£å¸¸æ‰§è¡Œ<br><img src="https://s1.xptou.com/2022/08/31/630f28b32ece4.png" alt="æœªç§»é™¤æ—¶ç»“æœ"></li><li>åœ¨ç§»é™¤ button çš„ click äº‹ä»¶åï¼ŒæŒ‰é’®ä¾æ—§æ­£å¸¸æ‰§è¡Œ<br><img src="https://s1.xptou.com/2022/08/31/630f29bc899d1.png" alt="ç§»é™¤åæ‰§è¡Œç»“æœ"></li><li>åœ¨ç§»é™¤ root çš„ click äº‹ä»¶åï¼ŒæŒ‰é’®æ— æ³•æ“ä½œ<br><img src="https://s1.xptou.com/2022/08/31/630f2aaad0bb9.png" alt="ç§»é™¤ root åæ‰§è¡Œç»“æœ"><br>ç”±æ­¤æ¨æ–­ï¼š<br>react çš„äº‹ä»¶å¹¶éæ˜¯ç”±ç‚¹å‡»çš„ DOM èŠ‚ç‚¹æ‰§è¡Œçš„ï¼Œè€Œæ˜¯ç”± root æ ¹èŠ‚ç‚¹ target é€šè¿‡äº‹ä»¶æºæ‰¾åˆ°çœŸæ­£è§¦å‘çš„å…ƒç´ ï¼Œç„¶åä»çœŸå®è§¦å‘çš„å…ƒç´ ä¾æ¬¡å‘é¡¶ç‚¹æŸ¥æ‰¾æœ‰æ²¡æœ‰å« onClick çš„å±æ€§ï¼Œå¦‚æœæœ‰ï¼Œå°±æŠŠè¯¥å±æ€§èº«ä¸Šçš„äº‹ä»¶æ‰§è¡Œã€‚<br>å› ä¸ºäº‹ä»¶ä»£ç†çš„æ–¹å¼ï¼Œåœ¨æ€§èƒ½æ–¹é¢æ˜¯æ›´ä¼˜çš„ï¼Œå› ä¸ºä¸éœ€è¦ç»‘å®šåˆ°å‡†ç¡®çš„ DOM èŠ‚ç‚¹ä¸Šï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦è€ƒè™‘è§£ç»‘äº‹ä»¶ã€‚</li></ul><h3 id="4-Event-å¯¹è±¡"><a href="#4-Event-å¯¹è±¡" class="headerlink" title="4.Event å¯¹è±¡"></a>4.Event å¯¹è±¡</h3><p>è™½ç„¶ react çš„äº‹ä»¶æœºåˆ¶ä¸åŸç”Ÿäº‹ä»¶æœ‰æ‰€ä¸åŒï¼Œä½† event äº‹ä»¶å¯¹è±¡å´å’ŒåŸç”Ÿçš„åŸºæœ¬ä¸€è‡´ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  handleClick2 = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event, <span class="hljs-string">&quot;click&quot;</span>);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClick2&#125;</span>&gt;</span>button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š<br><img src="https://s1.xptou.com/2022/08/31/630f2d6eb5990.png" alt="æ‰“å°ç»“æœ"><br>å’Œæ™®é€šæµè§ˆå™¨ä¸€æ ·ï¼Œäº‹ä»¶ handler ä¼šè¢«è‡ªåŠ¨ä¼ å…¥ä¸€ä¸ª event å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å’Œæ™®é€šçš„æµè§ˆå™¨ event å¯¹è±¡æ‰€åŒ…å«çš„æ–¹æ³•å’Œå±æ€§éƒ½åŸºæœ¬ä¸€è‡´ã€‚ä¸åŒçš„æ˜¯ React ä¸­çš„ event å¯¹è±¡å¹¶ä¸æ˜¯æµè§ˆå™¨æä¾›çš„ï¼Œè€Œæ˜¯å®ƒè‡ªå·±å†…éƒ¨æ‰€æ„å»ºçš„ã€‚å®ƒåŒæ ·å…·æœ‰ event.stopPropagation ã€ event.preventDefault è¿™ç§å¸¸ç”¨çš„æ–¹æ³•</p><h2 id="ä¸‰ã€Refçš„åº”ç”¨"><a href="#ä¸‰ã€Refçš„åº”ç”¨" class="headerlink" title="ä¸‰ã€Refçš„åº”ç”¨"></a>ä¸‰ã€Refçš„åº”ç”¨</h2><ul><li>ref å­—ç¬¦ä¸²ç»‘å®šï¼ˆå°†è¦åºŸå¼ƒï¼‰</li></ul><ul><li>ç»™æ ‡ç­¾è®¾ç½® ref=â€ipt1â€ï¼Œé€šè¿‡è¿™ä¸ªè·å– this.refs.ipt1 , ref å¯ä»¥è·å–åˆ°åº”ç”¨çš„çœŸå® dom</li></ul><ul><li>æ–°çš„å†™æ³•ï¼ˆæ¨èï¼‰</li></ul><ul><li>æ ‡ç­¾å†…è®¾ç½® ipt2 = React.createRef(); å¹¶é€šè¿‡ ref={this.ipt2} è¿›è¡Œ DOM ç»‘å®šï¼Œé€šè¿‡ this.ipt2.current è·å–åˆ°çœŸå® DOM</li><li>ç»„ä»¶å†…è®¾ç½® component = React.createRef(); å¹¶é€šè¿‡ ref={this.component} è¿›è¡Œç»„ä»¶ç»‘å®šï¼Œé€šè¿‡ this.component.current å¯ä»¥è·å–åˆ° ç»„ä»¶å†…éƒ¨çš„æ‰€æœ‰å±æ€§</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-comment">// Input ç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Input</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  a = <span class="hljs-number">1</span>;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Inputç»„ä»¶---a=&#123;this.a&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  ipt2 = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>();<br>  component = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>();<br>  handleClick = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ipnut1&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span>.<span class="hljs-property">ipt1</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span>.<span class="hljs-property">ipt1</span>.<span class="hljs-property">value</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ipnut2&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">ipt2</span>.<span class="hljs-property">current</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">ipt2</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Inputç»„ä»¶&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">component</span>.<span class="hljs-property">current</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">component</span>.<span class="hljs-property">current</span>.<span class="hljs-property">a</span>);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ipt1&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.ipt2&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.component&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClick&#125;</span>&gt;</span>button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://s1.xptou.com/2022/08/31/630f5645535ac.png" alt="refå†™æ³•"></p>]]></content>
    
    
    <summary type="html">ReactåŸºç¡€è¯­æ³•ä»‹ç»</summary>
    
    
    
    
    <category term="ReactåŸºç¡€" scheme="https://jsq180.github.io/tags/React%E5%9F%BA%E7%A1%80/"/>
    
    <category term="å‰ç«¯" scheme="https://jsq180.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Reactå…¥é—¨ç¯‡-è®¤è¯†React</title>
    <link href="https://jsq180.github.io/posts/74b32545.html"/>
    <id>https://jsq180.github.io/posts/74b32545.html</id>
    <published>2022-08-26T16:47:36.000Z</published>
    <updated>2022-08-31T22:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡ä¸ºã€Šä»é›¶å¼€å§‹çš„reactå¼‚ä¸–ç•Œç”Ÿæ´»ã€‹ï¼ˆè¯¯ï¼‰ï¼Œä¸»è¦ä»‹ç»ä½•ä¸º Reactï¼Œä»¥åŠåˆ›å»ºReacté¡¹ç›®éœ€è¦çš„ç¯å¢ƒç­‰ï¼Œè®¤è¯†Reactçš„åŸºç¡€æ¡†æ¶ã€‚<br>PSï¼šè¿™æ˜¯ç¬¬ä¸€æ¬¡å°è¯•æ­å»ºä¸ªäººåšå®¢ï¼Œä¹Ÿæ˜¯ä¸ºäº†è®°å½•å­¦ä¹ å’Œå·¥ä½œä¸Šçš„å„ç§é—®é¢˜ï¼Œå¸Œæœ›ä»¥åèƒ½å¤Ÿç»§ç»­æ›´æ–°åšå®¢ï¼Œæ—¢æ˜¯å¯¹è‡ªå·±çŸ¥è¯†çš„å·©å›ºï¼Œä¹Ÿæ˜¯ä¸€ç§è®°å½•ã€‚<br>é¦–å…ˆï¼Œå› å·¥ä½œä¸Šä½¿ç”¨ Reactï¼Œæ‰€ä»¥è¿™æ¬¡ä¹Ÿæ˜¯ä»é›¶å¼€å§‹ï¼Œå¯¹ React æŠ€æœ¯ä¸€ç§é‡æ¸©ï¼ŒåŒæ—¶å¯¹æ²¡æœ‰äº†è§£åˆ°çš„çŸ¥è¯†çš„å­¦ä¹ ã€‚</p><h1 id="React-åŸºç¡€ç¯‡"><a href="#React-åŸºç¡€ç¯‡" class="headerlink" title="React åŸºç¡€ç¯‡"></a>React åŸºç¡€ç¯‡</h1><h2 id="ä¸€ã€React-ä»‹ç»"><a href="#ä¸€ã€React-ä»‹ç»" class="headerlink" title="ä¸€ã€React ä»‹ç»"></a>ä¸€ã€React ä»‹ç»</h2><h3 id="1-React-èµ·æºä¸å‘å±•"><a href="#1-React-èµ·æºä¸å‘å±•" class="headerlink" title="1.React èµ·æºä¸å‘å±•"></a>1.React èµ·æºä¸å‘å±•</h3><p>React èµ·æºäº Facebook çš„å†…éƒ¨é¡¹ç›®ï¼Œå› ä¸ºè¯¥å…¬å¸å¯¹å¸‚åœºä¸Šæ‰€æœ‰ JavaScript MVC æ¡†æ¶ï¼Œéƒ½ä¸æ»¡æ„ï¼Œå°±å†³å®šè‡ªå·±å†™ä¸€å¥—ï¼Œç”¨æ¥æ¶è®¾ Instagram çš„ç½‘ç«™ã€‚åšå‡ºæ¥ä»¥åï¼Œå‘ç°è¿™å¥—ä¸œè¥¿å¾ˆå¥½ç”¨ï¼Œå°±åœ¨ 2013 å¹´ 5 æœˆå¼€æºäº†ã€‚</p><h3 id="2-React-ä¸ä¼ ç»Ÿ-MVC-çš„å…³ç³»"><a href="#2-React-ä¸ä¼ ç»Ÿ-MVC-çš„å…³ç³»" class="headerlink" title="2.React ä¸ä¼ ç»Ÿ MVC çš„å…³ç³»"></a>2.React ä¸ä¼ ç»Ÿ MVC çš„å…³ç³»</h3><p>è½»é‡çº§çš„è§†å›¾å±‚åº“ï¼A JavaScript library for building user interfaces</p><p>React ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ MVC æ¡†æ¶ï¼Œæœ€å¤šå¯ä»¥è®¤ä¸ºæ˜¯ MVC ä¸­çš„ Vï¼ˆViewï¼‰ï¼Œç”šè‡³ React å¹¶ä¸éå¸¸è®¤å¯ MVC å¼€å‘æ¨¡å¼ï¼›React æ„å»ºé¡µé¢ UI çš„åº“ã€‚å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºï¼ŒReact å°†ç•Œé¢åˆ†æˆäº†å„ä¸ªç‹¬ç«‹çš„å°å—ï¼Œæ¯ä¸€ä¸ªå—å°±æ˜¯ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶ä¹‹é—´å¯ä»¥ç»„åˆã€åµŒå¥—ï¼Œå°±æˆäº†æˆ‘ä»¬çš„é¡µé¢ã€‚</p><h3 id="3-React-çš„ç‰¹æ€§"><a href="#3-React-çš„ç‰¹æ€§" class="headerlink" title="3.React çš„ç‰¹æ€§"></a>3.React çš„ç‰¹æ€§</h3><p><img src="https://s1.xptou.com/2022/08/27/630a05e2a28aa.png" alt="Reactç‰¹æ€§"></p><h3 id="4-è™šæ‹Ÿ-DOM"><a href="#4-è™šæ‹Ÿ-DOM" class="headerlink" title="4.è™šæ‹Ÿ DOM"></a>4.è™šæ‹Ÿ DOM</h3><p><img src="https://s1.xptou.com/2022/08/27/630a05c1543a8.png" alt="ä¼ ç»ŸDOMæ›´æ–°"><br><img src="https://s1.xptou.com/2022/08/27/630a05926ad17.png" alt="è™šæ‹ŸDOM"></p><h2 id="äºŒã€åˆ›å»ºè„šæ‰‹æ¶"><a href="#äºŒã€åˆ›å»ºè„šæ‰‹æ¶" class="headerlink" title="äºŒã€åˆ›å»ºè„šæ‰‹æ¶"></a>äºŒã€åˆ›å»ºè„šæ‰‹æ¶</h2><h3 id="1-å…¨å±€å®‰è£…-create-react-app"><a href="#1-å…¨å±€å®‰è£…-create-react-app" class="headerlink" title="1.å…¨å±€å®‰è£… create-react-app"></a>1.å…¨å±€å®‰è£… create-react-app</h3><p>å…¨å±€å®‰è£…è„šæ‰‹æ¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">npm install -g create-react-app<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆï¼Œå¯ä»¥æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼ˆæ£€æŸ¥ç‰ˆæœ¬ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">create-react-app -V<br></code></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">create-react-app your-app (your-appä¸ºè‡ªå®šä¹‰é¡¹ç›®åç§°)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs EXAMPLE">Creating a new React app in /dir/your-app. Installing packages. This might take a couple of minutes. å®‰è£…è¿‡ç¨‹è¾ƒæ…¢ï¼Œ<br>Installing react, react-dom, and react-scripts...    (æ‰§è¡Œè¿‡ç¨‹)<br></code></pre></td></tr></table></figure><h3 id="2-å¦‚æœä¸æƒ³å…¨å±€å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨-npx"><a href="#2-å¦‚æœä¸æƒ³å…¨å±€å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨-npx" class="headerlink" title="2.å¦‚æœä¸æƒ³å…¨å±€å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ npx"></a>2.å¦‚æœä¸æƒ³å…¨å±€å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ npx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">npx create-react-app myapp ä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„æ•ˆæœ<br></code></pre></td></tr></table></figure><p>è¿™éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªè¿‡ç¨‹å®é™…ä¸Šä¼šå®‰è£…ä¸‰ä¸ªä¸œè¥¿</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">â€¢react: reactçš„é¡¶çº§åº“ â€¢react-dom:<br>å› ä¸ºreactæœ‰å¾ˆå¤šçš„è¿è¡Œç¯å¢ƒï¼Œæ¯”å¦‚appç«¯çš„â€¢react-native,<br>æˆ‘ä»¬è¦åœ¨webä¸Šè¿è¡Œå°±ä½¿ç”¨react-dom â€¢react-scripts:<br>åŒ…å«è¿è¡Œå’Œæ‰“åŒ…reactåº”ç”¨ç¨‹åºçš„æ‰€æœ‰è„šæœ¬åŠé…ç½®<br></code></pre></td></tr></table></figure><h3 id="3-åˆ›å»ºå¹¶å¯åŠ¨é¡¹ç›®"><a href="#3-åˆ›å»ºå¹¶å¯åŠ¨é¡¹ç›®" class="headerlink" title="3.åˆ›å»ºå¹¶å¯åŠ¨é¡¹ç›®"></a>3.åˆ›å»ºå¹¶å¯åŠ¨é¡¹ç›®</h3><p>å‡ºç°ä¸‹é¢çš„ç•Œé¢ï¼Œè¡¨ç¤ºåˆ›å»ºé¡¹ç›®æˆåŠŸ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs EXAMPLE">Success! Created your-app at /dir/your-app<br>Inside that directory, you can run several commands:<br><br>    npm start<br>        Starts the development server.<br><br>    npm run build<br>        Bundles the app into static files for production.<br><br>    npm test<br>        Starts the test runner.<br><br>    npm run eject<br>        Removes this tool and copies build dependencies, configuration files<br>        and scripts into the app directory. If you do this, you canâ€™t go back!<br><br>We suggest that you begin by typing:<br><br>    cd your-app<br>    npm start<br><br>    Happy hacking!<br></code></pre></td></tr></table></figure><p>æ ¹æ®ä¸Šé¢çš„æç¤ºï¼Œé€šè¿‡ cd your-app å‘½ä»¤è¿›å…¥ç›®å½•å¹¶è¿è¡Œ npm start å³å¯è¿è¡Œé¡¹ç›®ã€‚<br>ç”Ÿæˆé¡¹ç›®çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs EXAMPLE">â”œâ”€â”€ README.md ä½¿ç”¨æ–¹æ³•çš„æ–‡æ¡£<br>â”œâ”€â”€ node_modules æ‰€æœ‰çš„ä¾èµ–å®‰è£…çš„ç›®å½•<br>â”œâ”€â”€ package-lock.json é”å®šå®‰è£…æ—¶çš„åŒ…çš„ç‰ˆæœ¬å·,ä¿è¯å›¢é˜Ÿçš„ä¾èµ–èƒ½ä¿è¯ä¸€è‡´ã€‚<br>â”œâ”€â”€ package.json<br>â”œâ”€â”€ public é™æ€å…¬å…±ç›®å½•<br>â”œâ”€â”€ src å¼€å‘ç”¨çš„æºä»£ç ç›®å½•<br></code></pre></td></tr></table></figure><h3 id="4-å¸¸è§é—®é¢˜"><a href="#4-å¸¸è§é—®é¢˜" class="headerlink" title="4.å¸¸è§é—®é¢˜"></a>4.å¸¸è§é—®é¢˜</h3><ul><li>npm å®‰è£…å¤±è´¥<ul><li>åˆ‡æ¢ä¸º npm é•œåƒä¸ºæ·˜å®é•œåƒ</li><li>ä½¿ç”¨ yarnï¼Œå¦‚æœæœ¬æ¥ä½¿ç”¨ yarn è¿˜è¦å¤±è´¥ï¼Œè¿˜å¾—æŠŠ yarn çš„æºåˆ‡æ¢åˆ°å›½å†…</li><li>å¦‚æœè¿˜æ²¡æœ‰åŠæ³•è§£å†³ï¼Œè¯·åˆ é™¤ node_modules åŠ package-lock.json ç„¶åé‡æ–°æ‰§è¡Œ npm install å‘½ä»¤</li><li>å†ä¸èƒ½è§£å†³å°±åˆ é™¤ node_modules åŠ package-lock.json çš„åŒæ—¶æ¸…é™¤ npm ç¼“å­˜ npm cache clean â€”force ä¹‹åå†æ‰§è¡Œ npm install å‘½ä»¤</li></ul></li><li>æ‹“å±•ï¼š<br>ä»“åº“åŒ…ç®¡ç†å·¥å…·ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">npm i -g nrm    å®‰è£…<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">nrm ls          æŸ¥çœ‹<br></code></pre></td></tr></table></figure>æŸ¥çœ‹æ‰§è¡Œç»“æœå¦‚å›¾ï¼š<br><img src="https://s1.xptou.com/2022/08/27/6309fe5a0dae7.png" alt="nrm lsæŸ¥çœ‹"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs BASH">nrm use yarn    åˆ‡æ¢é•œåƒæº<br></code></pre></td></tr></table></figure>åˆ‡æ¢é•œåƒæºæ‰§è¡Œç»“æœå¦‚å›¾ï¼š<br><img src="https://s1.xptou.com/2022/08/27/630a01fddb1da.png" alt="nrm use yarnåˆ‡æ¢æŸ¥çœ‹"></li></ul><h1 id="ä¸‰ã€ç¼–å†™ç¬¬ä¸€ä¸ª-react-åº”ç”¨ç¨‹åº"><a href="#ä¸‰ã€ç¼–å†™ç¬¬ä¸€ä¸ª-react-åº”ç”¨ç¨‹åº" class="headerlink" title="ä¸‰ã€ç¼–å†™ç¬¬ä¸€ä¸ª react åº”ç”¨ç¨‹åº"></a>ä¸‰ã€ç¼–å†™ç¬¬ä¸€ä¸ª react åº”ç”¨ç¨‹åº</h1><p>react å¼€å‘éœ€è¦å¼•å…¥å¤šä¸ªä¾èµ–æ–‡ä»¶ï¼šreact.jsã€react-dom.jsï¼Œåˆ†åˆ«åˆæœ‰å¼€å‘ç‰ˆæœ¬å’Œç”Ÿäº§ç‰ˆæœ¬ã€‚<br>create react-app é‡Œå·²ç»å¸®æˆ‘ä»¬æŠŠè¿™äº›ä¸œè¥¿éƒ½å®‰è£…å¥½äº†ã€‚æŠŠé€šè¿‡ CRA åˆ›å»ºçš„å·¥ç¨‹ç›®å½•ä¸‹çš„ src ç›®å½•æ¸…ç©ºï¼Œç„¶ååœ¨é‡Œé¢é‡æ–°åˆ›å»ºä¸€ä¸ª index.jsã€‚index.js å³ä¸ºå…¥å£æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä» react çš„åŒ…å½“ä¸­å¼•å…¥äº† Reactã€‚åªè¦ä½ è¦å†™ React.js ç»„ä»¶å°±å¿…é¡»å¼•å…¥React, å› ä¸ºreacté‡Œæœ‰ ä¸€ç§è¯­æ³•å«JSXï¼Œè¦å†™JSXï¼Œå°±å¿…é¡»å¼•å…¥React</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-comment">// ReactDOM å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠ React ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šå»ï¼Œæ²¡æœ‰å…¶å®ƒçš„ä½œç”¨äº†ã€‚å®ƒæ˜¯ä» react-dom ä¸­ å¼•å…¥çš„ï¼Œè€Œä¸æ˜¯ä» react å¼•å…¥ã€‚</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-comment">// ReactDOMé‡Œæœ‰ä¸€ä¸ªrenderæ–¹æ³•ï¼ŒåŠŸèƒ½å°±æ˜¯æŠŠç»„ä»¶æ¸²æŸ“å¹¶ä¸”æ„é€  DOM æ ‘ï¼Œç„¶åæ’å…¥åˆ°é¡µé¢ä¸ŠæŸä¸ªç‰¹å®šçš„ å…ƒç´ ä¸Š</span><br><span class="hljs-comment">// æ­¤ç‰ˆæœ¬æ˜¯ react 17 ç‰ˆæœ¬ï¼Œ18ç‰ˆæœ¬ä¸æ”¯æŒè¿™ç§å†™æ³•</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>  <span class="hljs-comment">// htmlè¯­æ³•</span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div_h1&quot;</span>&gt;</span>æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>,<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>) <span class="hljs-comment">// æ¸²æŸ“åˆ° èŠ‚ç‚¹Id ä¸º root çš„DOMå…ƒç´ ä¸‹é¢</span><br>);<br><br>**æ³¨æ„ï¼š**<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span> ç›®å‰æœ‰åŠ©äºï¼š</span><br><span class="language-xml">è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="language-xml">å…³äºä½¿ç”¨è¿‡æ—¶å­—ç¬¦ä¸² ref API çš„è­¦å‘Š</span><br><span class="language-xml">æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</span><br><span class="language-xml">æ£€æµ‹è¿‡æ—¶çš„ context API</span><br><span class="language-xml">å†™æ³•ï¼š</span><br><span class="language-xml"></span><br><span class="language-xml">```js</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="å››ã€JSX-è¯­æ³•ä¸ç»„ä»¶"><a href="#å››ã€JSX-è¯­æ³•ä¸ç»„ä»¶" class="headerlink" title="å››ã€JSX è¯­æ³•ä¸ç»„ä»¶"></a>å››ã€JSX è¯­æ³•ä¸ç»„ä»¶</h2><h3 id="1-JSX-è¯­æ³•"><a href="#1-JSX-è¯­æ³•" class="headerlink" title="1.JSX è¯­æ³•"></a>1.JSX è¯­æ³•</h3><p>JSX å°† HTML è¯­æ³•ç›´æ¥åŠ å…¥åˆ° JavaScript ä»£ç ä¸­ï¼Œå†é€šè¿‡ç¿»è¯‘å™¨è½¬æ¢åˆ°çº¯ JavaScript åç”±æµè§ˆå™¨æ‰§è¡Œã€‚<br>åœ¨å®é™…å¼€å‘ä¸­ï¼ŒJSX åœ¨äº§å“æ‰“åŒ…é˜¶æ®µéƒ½å·²ç»ç¼–è¯‘æˆçº¯ JavaScriptï¼Œä¸ä¼šå¸¦æ¥ä»»ä½•å‰¯ä½œç”¨ï¼Œåè€Œä¼šè®©ä»£ç æ›´åŠ ç›´è§‚å¹¶æ˜“äºç»´æŠ¤ã€‚ ç¼–è¯‘è¿‡ç¨‹ç”± Babel çš„ JSX ç¼–è¯‘å™¨å®ç°ã€‚<br><a href="https://reactjs.org/docs/hello-world.html">å®˜æ–¹ç¤ºä¾‹é“¾æ¥</a>âœ”</p><p>åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>è¦æ˜ç™½ JSX çš„åŸç†ï¼Œéœ€è¦å…ˆæ˜ç™½å¦‚ä½•ç”¨ JavaScript å¯¹è±¡æ¥è¡¨ç°ä¸€ä¸ª DOM å…ƒç´ çš„ç»“æ„?<br>çœ‹ä¸‹é¢çš„ DOM ç»“æ„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;app&quot;</span> id=<span class="hljs-string">&quot;appRoot&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>React.js æ˜¯ä¸€ä¸ªå¸®åŠ©ä½ æ„å»ºé¡µé¢ UI çš„åº“ <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ª HTML æ‰€æœ‰çš„ä¿¡æ¯æˆ‘ä»¬éƒ½å¯ä»¥ç”¨ JavaScript å¯¹è±¡æ¥è¡¨ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;div&#x27;</span>,<br>    <span class="hljs-attr">attrs</span>: &#123; <span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;app&#x27;</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;appRoot&#x27;</span>&#125;,<br>    <span class="hljs-attr">children</span>: [<br>    &#123;<br>        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;h1&#x27;</span>,<br>        <span class="hljs-attr">attrs</span>: &#123;<span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;title&#x27;</span>&#125;,<br>        <span class="hljs-attr">children</span>: [<span class="hljs-string">&#x27;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&#x27;</span> ]<br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;p&#x27;</span>,<br>        <span class="hljs-attr">attrs</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-attr">children</span>: [<span class="hljs-string">&#x27;React.js æ˜¯ä¸€ä¸ªæ„å»ºé¡µé¢ UI çš„åº“&#x27;</span>]<br>    &#125;<br>    ]<br> &#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ç”¨ JavaScript å†™èµ·æ¥å¤ªé•¿äº†ï¼Œç»“æ„çœ‹èµ·æ¥åˆä¸æ¸…æ™°ï¼Œç”¨ HTML çš„æ–¹å¼å†™èµ·æ¥å°±æ–¹ä¾¿å¾ˆå¤šäº†ã€‚</p><p>äºæ˜¯ React.js å°±æŠŠ JavaScript çš„è¯­æ³•æ‰©å±•äº†ä¸€ä¸‹ï¼Œè®© JavaScript è¯­è¨€èƒ½å¤Ÿæ”¯æŒè¿™ç§ç›´æ¥åœ¨ JavaScript ä»£ç é‡Œé¢ç¼–å†™ç±»ä¼¼ HTML æ ‡ç­¾ç»“æ„çš„è¯­æ³•ï¼Œè¿™æ ·å†™èµ·æ¥å°±æ–¹ä¾¿å¾ˆå¤šäº†ã€‚ç¼–è¯‘çš„è¿‡ç¨‹ä¼šæŠŠç±»ä¼¼ HTML çš„ JSX ç»“æ„è½¬æ¢æˆ JavaScript çš„å¯¹è±¡ç»“æ„ã€‚</p><p>ä¸‹é¢ä»£ç :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;app&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;appRoot&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>React.js æ˜¯ä¸€ä¸ªæ„å»ºé¡µé¢ UI çš„åº“ <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>));<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘ä¹‹åå°†å¾—åˆ°è¿™æ ·çš„ä»£ç :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<br>      <span class="hljs-string">&quot;div&quot;</span>,<br>      &#123;<br>        <span class="hljs-attr">className</span>: <span class="hljs-string">&quot;app&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;appRoot&quot;</span>,<br>      &#125;,<br>      <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<br>        <span class="hljs-string">&quot;h1&quot;</span>,<br>        &#123;<br>          <span class="hljs-attr">className</span>: <span class="hljs-string">&quot;title&quot;</span>,<br>        &#125;,<br>        <span class="hljs-string">&quot;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&quot;</span><br>      ),<br>      <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;p&quot;</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;React.js æ˜¯ä¸€ä¸ªæ„å»ºé¡µé¢ UI çš„åº“&quot;</span>)<br>    );<br>  &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">App</span>), <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>));<br></code></pre></td></tr></table></figure><p><strong>React.createElement</strong> ä¼šæ„å»ºä¸€ä¸ª JavaScript å¯¹è±¡æ¥æè¿°ä½  HTML ç»“æ„çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ‡ç­¾åã€å±æ€§ã€è¿˜æœ‰å­å…ƒç´ ç­‰, è¯­æ³•ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è¿™ç§å†™æ³•åœ¨è·å–DOMèŠ‚ç‚¹çš„æ—¶å€™å¯ä»¥çœ‹åˆ°</span><br><span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(type, [props], [...children]);<br></code></pre></td></tr></table></figure><p>æ‰€è°“çš„ JSX å…¶å®å°±æ˜¯ JavaScript å¯¹è±¡ï¼Œæ‰€ä»¥ä½¿ç”¨ React å’Œ JSX çš„æ—¶å€™ä¸€å®šè¦ç»è¿‡ç¼–è¯‘çš„è¿‡ç¨‹:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html">JSX â€”ä½¿ç”¨reactæ„é€ ç»„ä»¶ï¼Œ bableè¿›è¡Œç¼–è¯‘â€”&gt; JavaScriptå¯¹è±¡ â€” ReactDOM.render() â€”&gt;<br>DOMå…ƒç´  â€”&gt; æ’å…¥é¡µé¢<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Reactå…¥é—¨ä»‹ç»</summary>
    
    
    
    
    <category term="ReactåŸºç¡€" scheme="https://jsq180.github.io/tags/React%E5%9F%BA%E7%A1%80/"/>
    
    <category term="å‰ç«¯" scheme="https://jsq180.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
</feed>
